(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9576],{73356:function(e,r,s){Promise.resolve().then(s.bind(s,11344))},99376:function(e,r,s){"use strict";var o=s(35475);s.o(o,"useParams")&&s.d(r,{useParams:function(){return o.useParams}}),s.o(o,"useRouter")&&s.d(r,{useRouter:function(){return o.useRouter}})},11344:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return g}});var o=s(57437),a=s(2265),n=s(35301),t=s(89414),i=s(46387),d=s(10020),l=s(39034),u=s(94013),c=s(41327),m=s(77314),h=s(34422),p=s(75186),x=s(99376),f=s(35389),w=s(83464);function g(){let[e,r]=(0,a.useState)(!1),s=(0,x.useRouter)(),g=h.Ry().shape({email:h.Z_().email("Invalid email").required("Email is required"),newPassword:h.Z_().required("New password is required").min(6,"Password must be at least 6 characters long")});async function v(e){try{r(!0);let o=localStorage.getItem("token"),a=await w.Z.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",e,{token:o});console.log(a),p.ZP.success("Password reset successfully!"),localStorage.setItem("Newtoken",a.data.token),s.push("/login")}catch(e){var o,a;console.error(e),p.ZP.error((null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||"An error occurred")}finally{r(!1)}}let P=(0,m.TA)({initialValues:{email:"",newPassword:""},onSubmit:e=>v(e),validationSchema:g});return(0,o.jsx)(n.default,{sx:{padding:"20px"},children:(0,o.jsx)(t.default,{container:!0,spacing:2,sx:{justifyContent:"center",marginBottom:"20px"},children:(0,o.jsxs)(t.default,{item:!0,xs:12,sm:6,md:5,padding:"70px",children:[(0,o.jsx)(i.default,{variant:"h1",fontWeight:500,fontSize:"36px",marginBottom:"20px",color:"#000",children:"Reset Password"}),(0,o.jsxs)(n.default,{component:"form",onSubmit:P.handleSubmit,children:[(0,o.jsxs)(c.Z,{sx:{width:"100%",marginBottom:"20px"},children:[(0,o.jsx)(d.Z,{htmlFor:"email-input",children:"Email"}),(0,o.jsx)(l.Z,{id:"email-input",type:"email",name:"email",onChange:P.handleChange,onBlur:P.handleBlur,value:P.values.email,sx:{backgroundColor:"#f9f9f9",borderRadius:"4px"}}),P.errors.email&&P.touched.email&&(0,o.jsx)(i.default,{variant:"body2",color:"error",sx:{marginTop:"8px"},children:P.errors.email})]}),(0,o.jsxs)(c.Z,{sx:{width:"100%",marginBottom:"20px"},children:[(0,o.jsx)(d.Z,{htmlFor:"new-password-input",children:"New Password"}),(0,o.jsx)(l.Z,{id:"new-password-input",type:"password",name:"newPassword",onChange:P.handleChange,onBlur:P.handleBlur,value:P.values.newPassword,sx:{backgroundColor:"#f9f9f9",borderRadius:"4px"}}),P.errors.newPassword&&P.touched.newPassword&&(0,o.jsx)(i.default,{variant:"body2",color:"error",sx:{marginTop:"8px"},children:P.errors.newPassword})]}),(0,o.jsx)(u.Z,{type:"submit",variant:"contained",sx:{backgroundColor:"#DB4444",fontWeight:500,marginBottom:"20px",color:"#fff",borderRadius:"4px",width:"100%",padding:"12px","&:hover":{backgroundColor:"#c03939"}},children:e?(0,o.jsx)(f.Z,{}):"Rest Passowrd"})]})]})})})}}},function(e){e.O(0,[2149,2276,9414,3464,4013,5186,9346,7176,2971,2117,1744],function(){return e(e.s=73356)}),_N_E=e.O()}]);