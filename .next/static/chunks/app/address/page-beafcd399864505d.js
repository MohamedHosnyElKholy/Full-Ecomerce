(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6619],{88836:function(e,r,t){Promise.resolve().then(t.bind(t,5119))},99376:function(e,r,t){"use strict";var s=t(35475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},5119:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var s=t(57437),a=t(2265),d=t(38293),n=t(35301),i=t(46387),u=t(89414),l=t(41327),o=t(10020),c=t(39034),m=t(94013),h=t(75186),g=t(68575),f=t(99376);function p(){let[e,r]=(0,a.useState)(""),[t,p]=(0,a.useState)(""),[x,j]=(0,a.useState)(""),[v,Z]=(0,a.useState)(""),y=(0,f.useRouter)(),{products:C}=(0,g.v9)(e=>e.address),P=(0,g.I0)();return(0,s.jsxs)(n.default,{sx:{padding:"20px"},children:[(0,s.jsx)(i.default,{variant:"h4",marginBottom:"20px",children:"Add New Address"}),(0,s.jsx)("form",{onSubmit:s=>{s.preventDefault(),P((0,d.y$)({name:e,details:t,phone:x,city:v})).then(()=>{h.ZP.success("Address added successfully!"),r(""),p(""),j(""),Z(""),y.push("/loggedUser")}).catch(e=>{h.ZP.error(e.message)})},children:(0,s.jsxs)(u.default,{container:!0,spacing:2,children:[(0,s.jsx)(u.default,{item:!0,xs:12,md:6,children:(0,s.jsxs)(l.Z,{fullWidth:!0,margin:"normal",children:[(0,s.jsx)(o.Z,{htmlFor:"name-input",children:"Name"}),(0,s.jsx)(c.Z,{id:"name-input",value:e,onChange:e=>r(e.target.value),required:!0})]})}),(0,s.jsx)(u.default,{item:!0,xs:12,md:6,children:(0,s.jsxs)(l.Z,{fullWidth:!0,margin:"normal",children:[(0,s.jsx)(o.Z,{htmlFor:"details-input",children:"Details"}),(0,s.jsx)(c.Z,{id:"details-input",value:t,onChange:e=>p(e.target.value),required:!0})]})}),(0,s.jsx)(u.default,{item:!0,xs:12,md:6,children:(0,s.jsxs)(l.Z,{fullWidth:!0,margin:"normal",children:[(0,s.jsx)(o.Z,{htmlFor:"phone-input",children:"Phone"}),(0,s.jsx)(c.Z,{id:"phone-input",value:x,onChange:e=>j(e.target.value),required:!0})]})}),(0,s.jsx)(u.default,{item:!0,xs:12,md:6,children:(0,s.jsxs)(l.Z,{fullWidth:!0,margin:"normal",children:[(0,s.jsx)(o.Z,{htmlFor:"city-input",children:"City"}),(0,s.jsx)(c.Z,{id:"city-input",value:v,onChange:e=>Z(e.target.value),required:!0})]})}),(0,s.jsx)(u.default,{item:!0,xs:12,children:(0,s.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",children:"Add Address"})})]})})]})}},38293:function(e,r,t){"use strict";t.d(r,{$Y:function(){return i},du:function(){return n},y$:function(){return d}});var s=t(1455),a=t(83464);let d=(0,s.hg)("address/add",async e=>{let{name:r,details:t,phone:s,city:d}=e,n=localStorage.getItem("token");return(await a.Z.post("https://ecommerce.routemisr.com/api/v1/addresses",{name:r,details:t,phone:s,city:d},{headers:{token:n}})).data}),n=(0,s.hg)("getUserAdress/fetchProduct",async()=>{let e=localStorage.getItem("token");return(await a.Z.get("https://ecommerce.routemisr.com/api/v1/addresses",{headers:{token:e}})).data}),i=(0,s.hg)("deleteUserAdress/fetchProduct",async e=>{let r=localStorage.getItem("token");return await a.Z.delete("https://ecommerce.routemisr.com/api/v1/addresses/".concat(e),{headers:{token:r}}),e}),u=(0,s.oM)({name:"address",initialState:{addresses:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,r)=>{e.loading=!1,e.addresses=r.payload.data}).addCase(n.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,r)=>{e.loading=!1,e.addresses=e.addresses.filter(e=>e._id!==r.payload)}).addCase(i.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}});r.ZP=u.reducer}},function(e){e.O(0,[2149,2276,9414,3464,4013,8575,5186,1455,9346,2971,2117,1744],function(){return e(e.s=88836)}),_N_E=e.O()}]);