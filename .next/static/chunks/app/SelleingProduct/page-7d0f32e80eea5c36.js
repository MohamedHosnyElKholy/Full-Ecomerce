(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6456],{63281:function(e,t,r){Promise.resolve().then(r.bind(r,85581))},67116:function(e,t,r){"use strict";r.d(t,{default:function(){return C}});var a=r(2265),o=r(61994),d=r(20801),s=r(16210),n=r(18475),i=r(56125),l=r(94630),c=r(57437),u=(0,l.Z)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),g=r(94143),p=r(50738);function f(e){return(0,p.ZP)("MuiAvatar",e)}(0,g.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var m=r(79114);let h=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,d.Z)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},f,t)},x=(0,s.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,n.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),v=(0,s.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,s.ZP)(u,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});var C=a.forwardRef(function(e,t){let r=(0,i.i)({props:e,name:"MuiAvatar"}),{alt:d,children:s,className:n,component:l="div",slots:u={},slotProps:g={},imgProps:p,sizes:f,src:C,srcSet:j,variant:w="circular",...Z}=r,b=null,k=function(e){let{crossOrigin:t,referrerPolicy:r,src:o,srcSet:d}=e,[s,n]=a.useState(!1);return a.useEffect(()=>{if(!o&&!d)return;n(!1);let e=!0,a=new Image;return a.onload=()=>{e&&n("loaded")},a.onerror=()=>{e&&n("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=o,d&&(a.srcset=d),()=>{e=!1}},[t,r,o,d]),s}({...p,src:C,srcSet:j}),S=C||j,P=S&&"error"!==k,I={...r,colorDefault:!P,component:l,variant:w};delete I.ownerState;let R=h(I),[A,D]=(0,m.Z)("img",{className:R.img,elementType:v,externalForwardedProps:{slots:u,slotProps:{img:{...p,...g.img}}},additionalProps:{alt:d,src:C,srcSet:j,sizes:f},ownerState:I});return b=P?(0,c.jsx)(A,{...D}):s||0===s?s:S&&d?d[0]:(0,c.jsx)(y,{ownerState:I,className:R.fallback}),(0,c.jsx)(x,{as:l,className:(0,o.Z)(R.root,n),ref:t,...Z,ownerState:I,children:b})})},85581:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(57437),o=r(2265),d=r(11827),s=r(35301),n=r(46387),i=r(89414),l=r(94013),c=r(27648),u=r(67116),g=r(94896),p=r(35389),f=r(68575),m=r(46046),h=r(67791),x=r(59262),v=r(85258),y=r(75186);function C(){let[e,t]=(0,o.useState)({}),r=(0,f.v9)(e=>e.getProductFlashSealsSlice.products),{products:C}=(0,f.v9)(e=>e.wishlist),{products:j}=(0,f.v9)(e=>e.cart),w=(0,f.I0)();async function Z(e){var r,a;try{t(t=>({...t,[e]:!0})),await w((0,v.Z5)(e)),y.ZP.success(null==j?void 0:null===(r=j.data)||void 0===r?void 0:r.message)}catch(e){y.ZP.error(null==j?void 0:null===(a=j.data)||void 0===a?void 0:a.message)}finally{t(t=>({...t,[e]:!1}))}}return(0,o.useEffect)(()=>{w((0,m.g)())},[w]),(0,a.jsxs)(d.default,{children:[(0,a.jsx)(s.default,{sx:{fontWeight:600,color:"#DB4444",marginBottom:"20px"},children:"This Month"}),(0,a.jsxs)(s.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsx)(n.default,{sx:{fontWeight:600,fontSize:{xs:"24px",sm:"30px",md:"36px"},color:"#000"},children:"Best Selling Products"}),(0,a.jsx)(c.default,{href:"/allProduct",style:{background:"#DB4444",padding:"12px 24px",borderRadius:"4px",color:"#fff",textDecoration:"none",fontSize:{xs:"14px",sm:"16px"}},children:"View All"})]}),(0,a.jsx)(i.default,{container:!0,spacing:4,children:Array.isArray(r)&&r.slice(0,4).map(t=>(0,a.jsx)(i.default,{item:!0,xs:12,sm:6,md:4,children:(0,a.jsxs)(s.default,{sx:{position:"relative",textAlign:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"20px",backgroundColor:"#fff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}},children:[(0,a.jsxs)(c.default,{href:"/DetialsProduct/".concat(t.id,"/").concat(t.category.name),style:{textDecoration:"none"},children:[(0,a.jsx)(u.default,{src:t.imageCover,variant:"square",sx:{width:"100%",height:"auto",borderRadius:"8px",marginBottom:"15px"}}),(0,a.jsxs)(s.default,{sx:{textAlign:"left",marginTop:"15px"},children:[(0,a.jsx)(n.default,{sx:{fontWeight:"bold",color:"#000",marginBottom:"5px"},children:t.title}),(0,a.jsxs)(s.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(n.default,{component:"span",variant:"body1",sx:{fontWeight:500,color:"#DB4444",marginRight:"10px"},children:["$",t.price]}),(0,a.jsx)(n.default,{component:"span",variant:"body1",sx:{fontWeight:600,color:"#000",fontSize:"14px"},children:t.ratingsAverage})]})]})]}),(0,a.jsx)(s.default,{sx:{position:"absolute",top:"15px",right:"15px",display:"flex",flexDirection:"column",gap:"15px"},children:(0,a.jsx)(x.Z,{title:"Add to Wishlist",arrow:!0,children:(0,a.jsx)(g.Z,{onClick:e=>{e.stopPropagation(),function(e){var t,r;try{w((0,h.TM)(e)),y.ZP.success(null==C?void 0:null===(t=C.data)||void 0===t?void 0:t.message)}catch(e){y.ZP.error(null==C?void 0:null===(r=C.data)||void 0===r?void 0:r.message)}}(t._id)},sx:{cursor:"pointer",color:"#000",fontSize:"20px"}})})}),(0,a.jsx)(l.Z,{onClick:()=>Z(t.id),variant:"contained",color:"primary",sx:{borderRadius:"4px",width:"100%","&:hover":{backgroundColor:"#c62828"}},children:e[t.id]?(0,a.jsx)(p.Z,{size:24,sx:{color:"#fff"}}):"Add to Cart"})]})},t.id))})]})}},85258:function(e,t,r){"use strict";r.d(t,{LL:function(){return l},NY:function(){return s},Vx:function(){return c},Z:function(){return i},Z5:function(){return d},xu:function(){return n}});var a=r(1455),o=r(83464);let d=(0,a.hg)("addWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:"".concat(e)},{headers:{token:t}})}),s=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),n=(0,a.hg)("updateCart/fetchProducts",async e=>{let{id:t,count:r}=e,a=localStorage.getItem("token");return await o.Z.put("https://ecommerce.routemisr.com/api/v1/cart/".concat(t),{count:r},{headers:{token:a}})}),i=(0,a.hg)("removeproductSlice/fetchProducts",async e=>{let t=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/cart/".concat(e),{headers:{token:t}})}),l=(0,a.hg)("clearCart/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),c=(0,a.hg)("cheakOut/fetchProducts",async e=>{let{cartId:t,url:r,formdData:a}=e,d=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/orders/checkout-session/".concat(t,"?url=").concat(r),{shippingAddress:a},{headers:{token:d}})}),u=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(l.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(c.pending,e=>{e.loading=!0}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=u.actions;t.ZP=u.reducer},46046:function(e,t,r){"use strict";r.d(t,{g:function(){return d}});var a=r(1455),o=r(83464);let d=(0,a.hg)("productSlice/fetchProducts",async()=>(await o.Z.get("https://ecommerce.routemisr.com/api/v1/products")).data.data),s=(0,a.oM)({name:"productSlice",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=s.actions;t.Z=s.reducer},67791:function(e,t,r){"use strict";r.d(t,{BC:function(){return n},Nk:function(){return s},TM:function(){return d}});var a=r(1455),o=r(83464);let d=(0,a.hg)("addWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:"".concat(e)},{headers:{token:t}})}),s=(0,a.hg)("deleteWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/wishlist/".concat(e),{headers:{token:t}})}),n=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.get("https://ecommerce.routemisr.com/api/v1/wishlist",{headers:{token:e}})}),i=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=i.actions;t.ZP=i.reducer}},function(e){e.O(0,[2149,2276,9414,3464,4013,1825,8575,5186,7648,1455,617,4818,2971,2117,1744],function(){return e(e.s=63281)}),_N_E=e.O()}]);