(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6409],{3618:function(e,r,t){Promise.resolve().then(t.bind(t,72979))},67116:function(e,r,t){"use strict";t.d(r,{default:function(){return C}});var a=t(2265),o=t(61994),n=t(20801),d=t(16210),i=t(18475),s=t(56125),l=t(94630),c=t(57437),u=(0,l.Z)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),h=t(94143),g=t(50738);function p(e){return(0,g.ZP)("MuiAvatar",e)}(0,h.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var m=t(79114);let f=e=>{let{classes:r,variant:t,colorDefault:a}=e;return(0,n.Z)({root:["root",t,a&&"colorDefault"],img:["img"],fallback:["fallback"]},p,r)},v=(0,d.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((0,i.Z)(e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(r.vars||r).palette.background.default,...r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:r.palette.grey[400],...r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})}}}]}})),x=(0,d.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,d.ZP)(u,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});var C=a.forwardRef(function(e,r){let t=(0,s.i)({props:e,name:"MuiAvatar"}),{alt:n,children:d,className:i,component:l="div",slots:u={},slotProps:h={},imgProps:g,sizes:p,src:C,srcSet:b,variant:Z="circular",...j}=t,k=null,w=function(e){let{crossOrigin:r,referrerPolicy:t,src:o,srcSet:n}=e,[d,i]=a.useState(!1);return a.useEffect(()=>{if(!o&&!n)return;i(!1);let e=!0,a=new Image;return a.onload=()=>{e&&i("loaded")},a.onerror=()=>{e&&i("error")},a.crossOrigin=r,a.referrerPolicy=t,a.src=o,n&&(a.srcset=n),()=>{e=!1}},[r,t,o,n]),d}({...g,src:C,srcSet:b}),P=C||b,S=P&&"error"!==w,R={...t,colorDefault:!S,component:l,variant:Z};delete R.ownerState;let I=f(R),[B,W]=(0,m.Z)("img",{className:I.img,elementType:x,externalForwardedProps:{slots:u,slotProps:{img:{...g,...h.img}}},additionalProps:{alt:n,src:C,srcSet:b,sizes:p},ownerState:R});return k=S?(0,c.jsx)(B,{...W}):d||0===d?d:P&&n?n[0]:(0,c.jsx)(y,{ownerState:R,className:I.fallback}),(0,c.jsx)(v,{as:l,className:(0,o.Z)(I.root,i),ref:r,...j,ownerState:R,children:k})})},99376:function(e,r,t){"use strict";var a=t(35475);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},72979:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return C}});var a=t(57437),o=t(2265),n=t(11967),d=t(35301),i=t(89414),s=t(67116),l=t(46387),c=t(10020),u=t(39034),h=t(94013),g=t(41327);t(27648);var p=t(77314),m=t(34422);t(75186);var f=t(35389),v=t(99376),x=t(68575);t(67791);var y=t(85258);function C(){var e,r;let[t,C]=(0,o.useState)(!1),b=(0,v.useRouter)(),Z=m.Ry().shape({phone:m.Z_().required("Phone number is required").matches(/^[0-9]+$/,"Phone number must be digits only"),details:m.Z_().required("Details are required"),city:m.Z_().required("City is required")}),{products:j}=(0,x.v9)(e=>e.cart),k=(0,x.I0)(),w=null==j?void 0:null===(r=j.data)||void 0===r?void 0:null===(e=r.session)||void 0===e?void 0:e.url;async function P(e){let{cartId:r,url:t,values:a}=e;try{C(!0),await k((0,y.Vx)({cartId:r,url:t,formdData:a})),w?b.push(w):console.log("no found")}catch(e){}finally{C(!1)}}let S=(0,p.TA)({initialValues:{phone:"",details:"",city:""},onSubmit:e=>P({cartId:"6701d5baf9d4967782a1ead7",url:"http://localhost:3000",values:e}),validationSchema:Z});return(0,a.jsx)(d.default,{sx:{padding:"20px"},children:(0,a.jsxs)(i.default,{container:!0,spacing:2,sx:{justifyContent:"center",marginBottom:"20px"},children:[(0,a.jsx)(i.default,{item:!0,xs:12,sm:12,md:7,children:(0,a.jsx)(s.default,{src:null===n.Z||void 0===n.Z?void 0:n.Z.src,sx:{width:"100%",height:"100%",borderRadius:0}})}),(0,a.jsxs)(i.default,{item:!0,xs:12,sm:6,md:5,padding:"70px",children:[(0,a.jsx)(l.default,{variant:"h1",fontWeight:500,fontSize:"36px",marginBottom:"20px",color:"#000",children:"Complete Your Purchase"}),(0,a.jsx)(l.default,{variant:"body1",fontWeight:400,fontSize:"16px",marginBottom:"30px",color:"#555",children:"Enter your details below"}),(0,a.jsxs)(d.default,{component:"form",onSubmit:S.handleSubmit,children:[(0,a.jsxs)(g.Z,{sx:{width:"100%",marginBottom:"20px"},children:[(0,a.jsx)(c.Z,{htmlFor:"phone-input",children:"Phone Number"}),(0,a.jsx)(u.Z,{id:"phone-input",name:"phone",onChange:S.handleChange,onBlur:S.handleBlur,value:S.values.phone,sx:{backgroundColor:"#f9f9f9",borderRadius:"4px"}}),S.errors.phone&&S.touched.phone&&(0,a.jsx)(l.default,{variant:"body2",color:"error",sx:{marginTop:"8px",fontWeight:400},children:S.errors.phone})]}),(0,a.jsxs)(g.Z,{sx:{width:"100%",marginBottom:"20px"},children:[(0,a.jsx)(c.Z,{htmlFor:"details-input",children:"Details"}),(0,a.jsx)(u.Z,{id:"details-input",name:"details",onChange:S.handleChange,onBlur:S.handleBlur,value:S.values.details,sx:{backgroundColor:"#f9f9f9",borderRadius:"4px"}}),S.errors.details&&S.touched.details&&(0,a.jsx)(l.default,{variant:"body2",color:"error",sx:{marginTop:"8px",fontWeight:400},children:S.errors.details})]}),(0,a.jsxs)(g.Z,{sx:{width:"100%",marginBottom:"20px"},children:[(0,a.jsx)(c.Z,{htmlFor:"city-input",children:"City"}),(0,a.jsx)(u.Z,{id:"city-input",name:"city",onChange:S.handleChange,onBlur:S.handleBlur,value:S.values.city,sx:{backgroundColor:"#f9f9f9",borderRadius:"4px"}}),S.errors.city&&S.touched.city&&(0,a.jsx)(l.default,{variant:"body2",color:"error",sx:{marginTop:"8px",fontWeight:400},children:S.errors.city})]}),(0,a.jsx)(h.Z,{type:"submit",variant:"contained",sx:{backgroundColor:"#DB4444",fontWeight:500,marginBottom:"20px",color:"#fff",borderRadius:"4px",width:"100%",padding:"12px","&:hover":{backgroundColor:"#c03939"}},children:t?(0,a.jsx)(f.Z,{}):"Proceed to Checkout"})]})]})]})})}},85258:function(e,r,t){"use strict";t.d(r,{LL:function(){return l},NY:function(){return d},Vx:function(){return c},Z:function(){return s},Z5:function(){return n},xu:function(){return i}});var a=t(1455),o=t(83464);let n=(0,a.hg)("addWishList/fetchProducts",async e=>{let r=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:"".concat(e)},{headers:{token:r}})}),d=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),i=(0,a.hg)("updateCart/fetchProducts",async e=>{let{id:r,count:t}=e,a=localStorage.getItem("token");return await o.Z.put("https://ecommerce.routemisr.com/api/v1/cart/".concat(r),{count:t},{headers:{token:a}})}),s=(0,a.hg)("removeproductSlice/fetchProducts",async e=>{let r=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/cart/".concat(e),{headers:{token:r}})}),l=(0,a.hg)("clearCart/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),c=(0,a.hg)("cheakOut/fetchProducts",async e=>{let{cartId:r,url:t,formdData:a}=e,n=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/orders/checkout-session/".concat(r,"?url=").concat(t),{shippingAddress:a},{headers:{token:n}})}),u=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(n.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(d.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(i.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(s.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(l.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(l.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(c.pending,e=>{e.loading=!0}).addCase(c.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(c.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{}=u.actions;r.ZP=u.reducer},67791:function(e,r,t){"use strict";t.d(r,{BC:function(){return i},Nk:function(){return d},TM:function(){return n}});var a=t(1455),o=t(83464);let n=(0,a.hg)("addWishList/fetchProducts",async e=>{let r=localStorage.getItem("token");return await o.Z.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:"".concat(e)},{headers:{token:r}})}),d=(0,a.hg)("deleteWishList/fetchProducts",async e=>{let r=localStorage.getItem("token");return await o.Z.delete("https://ecommerce.routemisr.com/api/v1/wishlist/".concat(e),{headers:{token:r}})}),i=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await o.Z.get("https://ecommerce.routemisr.com/api/v1/wishlist",{headers:{token:e}})}),s=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(n.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(d.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,r)=>{e.loading=!1,e.products=r.payload}).addCase(i.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{}=s.actions;r.ZP=s.reducer},11967:function(e,r){"use strict";r.Z={src:"/_next/static/media/dl.beatsnoop 1.b1886a88.svg",height:706,width:805,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[2149,2276,9414,3464,4013,1825,8575,5186,7648,1455,9346,7176,2971,2117,1744],function(){return e(e.s=3618)}),_N_E=e.O()}]);