(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4456],{87473:function(e,t,r){Promise.resolve().then(r.bind(r,26948))},76672:function(e,t,r){"use strict";var a=r(94630),i=r(57437);t.Z=(0,a.Z)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},67116:function(e,t,r){"use strict";r.d(t,{default:function(){return y}});var a=r(2265),i=r(61994),o=r(20801),n=r(16210),s=r(18475),d=r(56125),l=r(94630),u=r(57437),c=(0,l.Z)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),h=r(94143),f=r(50738);function g(e){return(0,f.ZP)("MuiAvatar",e)}(0,h.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var p=r(79114);let m=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,o.Z)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},g,t)},v=(0,n.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,s.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),x=(0,n.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),b=(0,n.ZP)(c,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});var y=a.forwardRef(function(e,t){let r=(0,d.i)({props:e,name:"MuiAvatar"}),{alt:o,children:n,className:s,component:l="div",slots:c={},slotProps:h={},imgProps:f,sizes:g,src:y,srcSet:k,variant:w="circular",...Z}=r,C=null,j=function(e){let{crossOrigin:t,referrerPolicy:r,src:i,srcSet:o}=e,[n,s]=a.useState(!1);return a.useEffect(()=>{if(!i&&!o)return;s(!1);let e=!0,a=new Image;return a.onload=()=>{e&&s("loaded")},a.onerror=()=>{e&&s("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=i,o&&(a.srcset=o),()=>{e=!1}},[t,r,i,o]),n}({...f,src:y,srcSet:k}),P=y||k,R=P&&"error"!==j,S={...r,colorDefault:!R,component:l,variant:w};delete S.ownerState;let W=m(S),[M,A]=(0,p.Z)("img",{className:W.img,elementType:x,externalForwardedProps:{slots:c,slotProps:{img:{...f,...h.img}}},additionalProps:{alt:o,src:y,srcSet:k,sizes:g},ownerState:S});return C=R?(0,u.jsx)(M,{...A}):n||0===n?n:P&&o?o[0]:(0,u.jsx)(b,{ownerState:S,className:W.fallback}),(0,u.jsx)(v,{as:l,className:(0,i.Z)(W.root,s),ref:t,...Z,ownerState:S,children:C})})},11827:function(e,t,r){"use strict";r.d(t,{default:function(){return b}});var a=r(2265),i=r(61994),o=r(50738),n=r(20801),s=r(53004),d=r(70567);let l=(0,r(72225).ZP)();var u=r(12095),c=r(57437);let h=(0,u.Z)(),f=l("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,s.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),g=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:h}),p=(e,t)=>{let{classes:r,fixed:a,disableGutters:i,maxWidth:d}=e,l={root:["root",d&&`maxWidth${(0,s.Z)(String(d))}`,a&&"fixed",i&&"disableGutters"]};return(0,n.Z)(l,e=>(0,o.ZP)(t,e),r)};var m=r(85657),v=r(16210),x=r(64119),b=function(e={}){let{createStyledComponent:t=f,useThemeProps:r=g,componentName:o="MuiContainer"}=e,n=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let a=e.breakpoints.values[r];return 0!==a&&(t[e.breakpoints.up(r)]={maxWidth:`${a}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}));return a.forwardRef(function(e,t){let a=r(e),{className:s,component:d="div",disableGutters:l=!1,fixed:u=!1,maxWidth:h="lg",classes:f,...g}=a,m={...a,component:d,disableGutters:l,fixed:u,maxWidth:h},v=p(m,o);return(0,c.jsx)(n,{as:d,ownerState:m,className:(0,i.Z)(v.root,s),ref:t,...g})})}({createStyledComponent:(0,v.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["maxWidth".concat((0,m.Z)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,x.Z)({props:e,name:"MuiContainer"})})},67791:function(e,t,r){"use strict";r.d(t,{BC:function(){return s},Nk:function(){return n},TM:function(){return o}});var a=r(1455),i=r(83464);let o=(0,a.hg)("addWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await i.Z.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:"".concat(e)},{headers:{token:t}})}),n=(0,a.hg)("deleteWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await i.Z.delete("https://ecommerce.routemisr.com/api/v1/wishlist/".concat(e),{headers:{token:t}})}),s=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await i.Z.get("https://ecommerce.routemisr.com/api/v1/wishlist",{headers:{token:e}})}),d=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=d.actions;t.ZP=d.reducer},26948:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(57437),i=r(2265),o=r(11827),n=r(46387),s=r(89414),d=r(35301),l=r(67116),u=r(94013),c=r(76672),h=r(68575),f=r(67791),g=r(75186);function p(){var e,t,r;let{products:p}=(0,h.v9)(e=>e.wishlist),m=(0,h.I0)();async function v(e){try{await m((0,f.Nk)(e)).unwrap(),g.ZP.success("Product removed from wishlist"),await m((0,f.BC)()).unwrap()}catch(e){g.ZP.error("Failed to remove product: "+e.message)}}return(0,i.useEffect)(()=>{m((0,f.BC)())},[m]),console.log(p),(0,a.jsxs)(o.default,{sx:{margin:"30px auto"},children:[(0,a.jsx)(n.default,{variant:"h4",gutterBottom:!0,children:"Your Wishlist"}),(null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)===0?(0,a.jsx)(n.default,{variant:"h6",color:"textSecondary",align:"center",sx:{marginTop:2},children:"Your wishlist is currently empty. Add items to your wishlist to save them for later!"}):(0,a.jsx)(s.default,{container:!0,spacing:3,children:Array.isArray(null==p?void 0:null===(r=p.data)||void 0===r?void 0:r.data)&&p.data.data.map(e=>(0,a.jsx)(s.default,{item:!0,xs:12,sm:6,md:4,children:(0,a.jsxs)(d.default,{border:1,borderRadius:4,padding:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"100%",children:[(0,a.jsx)(l.default,{variant:"rounded",src:e.imageCover,alt:e.title,sx:{width:100,height:100,mb:2}}),(0,a.jsx)(n.default,{variant:"h6",sx:{textAlign:"center"},gutterBottom:!0,children:e.title}),(0,a.jsxs)(n.default,{variant:"body1",color:"textSecondary",children:["Price: $",e.price]}),(0,a.jsxs)(n.default,{variant:"body2",color:"textSecondary",children:["Rating: ",e.ratingsAverage," (",e.ratingsQuantity," reviews)"]}),(0,a.jsx)(u.Z,{onClick:()=>v(e._id),variant:"outlined",color:"secondary",sx:{margin:"15px 0"},startIcon:(0,a.jsx)(c.Z,{}),fullWidth:!0,children:"Remove"})]})},e._id))})]})}}},function(e){e.O(0,[2149,2276,9414,3464,4013,1825,8575,5186,1455,2971,2117,1744],function(){return e(e.s=87473)}),_N_E=e.O()}]);