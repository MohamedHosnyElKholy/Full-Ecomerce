(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7767],{67767:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(57437),s=r(2265),o=r(11827),d=r(35301),i=r(46387),n=r(67208),l=r(45841),c=r(36137),u=r(94013),p=r(59832),x=r(59262),g=r(67594),f=r(6406),h=r(27648);r(97425),r(49608);var m=r(81649),j=r(45319),v=r(94896);r(49298);var y=r(68575),C=r(35389),S=r(46046),Z=r(67791),w=r(85258),k=r(75186);function b(){let[e,t]=(0,s.useState)({}),r=(0,y.v9)(e=>e.getProductFlashSealsSlice.products),{products:b}=(0,y.v9)(e=>e.wishlist),{products:P}=(0,y.v9)(e=>e.cart),W=(0,y.I0)();async function I(e){var r,a;try{t(t=>({...t,[e]:!0})),await W((0,w.Z5)(e)),k.ZP.success((null==P?void 0:null===(r=P.data)||void 0===r?void 0:r.message)||"تمت الإضافة إلى السلة!")}catch(e){k.ZP.error((null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message)||"حدث خطأ أثناء الإضافة.")}finally{t(t=>({...t,[e]:!1}))}}(0,s.useEffect)(()=>{W((0,S.g)())},[W]);let T=(0,s.useRef)(null),z=()=>(0,a.jsx)("span",{children:"You are good to go!"}),[A,L]=(0,s.useState)(null);return((0,s.useEffect)(()=>{{let e=localStorage.getItem("countdownEndDate");if(e)L(Number(e));else{let e=Date.now()+1728e7;L(e),localStorage.setItem("countdownEndDate",e)}}},[]),null===A)?(0,a.jsx)(d.default,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,a.jsx)(C.Z,{})}):(0,a.jsxs)(o.default,{sx:{marginTop:{xs:"10px",md:"25px"}},children:[(0,a.jsx)(d.default,{className:"custom-box",sx:{fontWeight:600,color:"#DB4444"},children:"Today’s"}),(0,a.jsxs)(d.default,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:"20px",md:"100px"},alignItems:{xs:"flex-start",md:"center"},marginTop:"20px"},children:[(0,a.jsx)(i.default,{sx:{fontWeight:600,fontSize:{xs:"24px",md:"36px"},color:"#000"},children:"Flash Sales"}),(0,a.jsx)(d.default,{children:(0,a.jsx)(g.ZP,{date:A,renderer:e=>{let{days:t,hours:r,minutes:s,seconds:o,completed:n}=e;return n?(0,a.jsx)(z,{}):(0,a.jsxs)(d.default,{sx:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[(0,a.jsxs)(d.default,{sx:{textAlign:"center"},children:[(0,a.jsx)(i.default,{sx:{fontWeight:500,fontSize:"12px",color:"#000"},children:"days"}),(0,a.jsxs)(i.default,{sx:{fontWeight:700,fontSize:{xs:"24px",md:"32px"},color:"#000"},children:[t," :"]})]}),(0,a.jsxs)(d.default,{sx:{textAlign:"center"},children:[(0,a.jsx)(i.default,{sx:{fontWeight:500,fontSize:"12px",color:"#000"},children:"hours"}),(0,a.jsxs)(i.default,{sx:{fontWeight:700,fontSize:{xs:"24px",md:"32px"},color:"#000"},children:[r," :"]})]}),(0,a.jsxs)(d.default,{sx:{textAlign:"center"},children:[(0,a.jsx)(i.default,{sx:{fontWeight:500,fontSize:"12px",color:"#000"},children:"minutes"}),(0,a.jsxs)(i.default,{sx:{fontWeight:700,fontSize:{xs:"24px",md:"32px"},color:"#000"},children:[s," :"]})]}),(0,a.jsxs)(d.default,{sx:{textAlign:"center"},children:[(0,a.jsx)(i.default,{sx:{fontWeight:500,fontSize:"12px",color:"#000"},children:"seconds"}),(0,a.jsx)(i.default,{sx:{fontWeight:700,fontSize:{xs:"24px",md:"32px"},color:"#000"},children:o})]})]})}})})]}),(0,a.jsxs)(d.default,{sx:{marginTop:"20px",position:"relative"},children:[(0,a.jsx)(f.Z,{ref:T,dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}],children:Array.isArray(r)&&r.slice(0,20).map(t=>(0,a.jsxs)(n.Z,{sx:{maxWidth:{xs:"100%",md:345},margin:2,transition:"transform 0.3s","&:hover":{transform:"scale(1.05)",boxShadow:3}},children:[(0,a.jsxs)(h.default,{href:"/DetialsProduct/".concat(t.id,"/").concat(t.category.name),style:{textDecoration:"none",color:"inherit"},children:[(0,a.jsx)(l.Z,{component:"img",height:"300px",width:"100%",image:t.imageCover,alt:t.name,sx:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(i.default,{variant:"h6",component:"div",sx:{fontWeight:600,color:"#333",mb:1},children:t.name}),(0,a.jsx)(i.default,{variant:"body2",color:"text.secondary",sx:{mb:1},children:t.description.length>50?"".concat(t.description.slice(0,50),"..."):t.description}),(0,a.jsx)(i.default,{variant:"h6",color:"primary",sx:{fontWeight:700},children:(0,a.jsxs)("span",{children:["$",t.price]})})]})]}),(0,a.jsxs)(d.default,{sx:{display:"flex",justifyContent:"space-between",padding:2,borderTop:"1px solid #e0e0e0"},children:[(0,a.jsx)(u.Z,{onClick:()=>I(t.id),variant:"contained",color:"primary",sx:{borderRadius:"4px","&:hover":{backgroundColor:"#c62828"}},children:e[t.id]?(0,a.jsx)(C.Z,{size:24,sx:{color:"#fff"}}):"Add to Cart"}),(0,a.jsx)(x.Z,{title:"Add to Wishlist",arrow:!0,children:(0,a.jsx)(p.Z,{"aria-label":"add to wishlist",children:(0,a.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),function(e){var t,r;try{W((0,Z.TM)(e)),k.ZP.success((null==b?void 0:null===(t=b.data)||void 0===t?void 0:t.message)||"تمت الإضافة إلى المفضلة!")}catch(e){k.ZP.error((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||"حدث خطأ أثناء الإضافة.")}}(t.id)}})})})]})]},t.id))}),(0,a.jsxs)(d.default,{sx:{position:"absolute",top:"-20px",right:"10px",display:"flex",gap:"10px",zIndex:1},children:[(0,a.jsx)(j.Z,{onClick:()=>T.current.slickPrev(),sx:{cursor:"pointer"}}),(0,a.jsx)(m.Z,{onClick:()=>T.current.slickNext(),sx:{cursor:"pointer"}})]}),(0,a.jsx)(d.default,{sx:{display:"flex",justifyContent:"center",my:2},children:(0,a.jsx)(h.default,{href:"/allProduct",style:{background:"#DB4444",padding:"16px 48px",borderRadius:"4px",color:"#fff",textDecoration:"none"},children:"View All"})})]})]})}},85258:function(e,t,r){"use strict";r.d(t,{LL:function(){return l},NY:function(){return d},Vx:function(){return c},Z:function(){return n},Z5:function(){return o},xu:function(){return i}});var a=r(1455),s=r(83464);let o=(0,a.hg)("addWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await s.Z.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:"".concat(e)},{headers:{token:t}})}),d=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await s.Z.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),i=(0,a.hg)("updateCart/fetchProducts",async e=>{let{id:t,count:r}=e,a=localStorage.getItem("token");return await s.Z.put("https://ecommerce.routemisr.com/api/v1/cart/".concat(t),{count:r},{headers:{token:a}})}),n=(0,a.hg)("removeproductSlice/fetchProducts",async e=>{let t=localStorage.getItem("token");return await s.Z.delete("https://ecommerce.routemisr.com/api/v1/cart/".concat(e),{headers:{token:t}})}),l=(0,a.hg)("clearCart/fetchProducts",async()=>{let e=localStorage.getItem("token");return await s.Z.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:{token:e}})}),c=(0,a.hg)("cheakOut/fetchProducts",async e=>{let{cartId:t,url:r,formdData:a}=e,o=localStorage.getItem("token");return await s.Z.post("https://ecommerce.routemisr.com/api/v1/orders/checkout-session/".concat(t,"?url=").concat(r),{shippingAddress:a},{headers:{token:o}})}),u=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(l.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(c.pending,e=>{e.loading=!0}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=u.actions;t.ZP=u.reducer},46046:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var a=r(1455),s=r(83464);let o=(0,a.hg)("productSlice/fetchProducts",async()=>(await s.Z.get("https://ecommerce.routemisr.com/api/v1/products")).data.data),d=(0,a.oM)({name:"productSlice",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=d.actions;t.Z=d.reducer},67791:function(e,t,r){"use strict";r.d(t,{BC:function(){return i},Nk:function(){return d},TM:function(){return o}});var a=r(1455),s=r(83464);let o=(0,a.hg)("addWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await s.Z.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:"".concat(e)},{headers:{token:t}})}),d=(0,a.hg)("deleteWishList/fetchProducts",async e=>{let t=localStorage.getItem("token");return await s.Z.delete("https://ecommerce.routemisr.com/api/v1/wishlist/".concat(e),{headers:{token:t}})}),i=(0,a.hg)("getWishLits/fetchProducts",async()=>{let e=localStorage.getItem("token");return await s.Z.get("https://ecommerce.routemisr.com/api/v1/wishlist",{headers:{token:e}})}),n=(0,a.oM)({name:"addWishList",initialState:{products:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{}=n.actions;t.ZP=n.reducer},49298:function(){}}]);